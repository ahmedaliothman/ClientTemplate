{"ast":null,"code":"import axios from 'axios';\nconst BaseUrl = 'http://localhost:5005/api';\nconst AuthUrl = 'http://localhost:5000';\naxios.interceptors.request.use(function (config) {\n  let localStorageData = localStorage.getItem('data');\n\n  if (localStorageData) {\n    localStorageData = JSON.parse(localStorageData);\n    let token = 'Bearer ' + localStorageData.access_token;\n    config.headers.Authorization = token;\n  }\n\n  console.log(config);\n  return config;\n});\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response.status === 401) {\n    localStorage.removeItem('data');\n    window.location = '/login';\n  } else {\n    return Promise.reject(error.response);\n  }\n});\nexport const getPosts = () => {\n  console.log(\"getPosts api call.\");\n  console.log(axios.defaults);\n  return axios.get(`${BaseUrl}/posts`);\n};\nexport const createPost = data => {\n  console.log(\"createPost api call ->\", data);\n  return axios.post(`${BaseUrl}/posts`, data);\n};\nexport const editPost = data => {\n  console.log(\"editPost api call ->\", data);\n  return axios.put(`${BaseUrl}/posts`, data);\n};\nexport const deletePost = id => {\n  console.log(\"deletePost api call ->\", id);\n  return axios.delete(`${BaseUrl}/posts/${id}`, id);\n};\nexport const getPostDetail = id => {\n  console.log(\"getPostDetail api call ->\", id);\n  return axios.get(`${BaseUrl}/posts/${id}`);\n};\nexport const createComment = ({\n  postId,\n  data\n}) => {\n  console.log(\"createComment api call ->\", postId, data);\n  return axios.post(`${BaseUrl}/comments?postId=${postId}`, data);\n};\nexport const getComments = postId => {\n  console.log(\"getComments api call ->\", postId);\n  return axios.get(`${BaseUrl}/comments?postId=${postId}`);\n};\nexport const login = data => {\n  console.log(\"login api call ->\", data);\n  return axios.post(`${AuthUrl}/api/token`, data);\n};\nexport const register = data => {\n  console.log(\"register api call ->\", data);\n  return axios.post(`${AuthUrl}/api/user/register`, data);\n};","map":{"version":3,"sources":["/home/alipc/Downloads/react_aspnet/react-redux-saga-jwt-auth-aspnet-master/client/src/sagas/api.js"],"names":["axios","BaseUrl","AuthUrl","interceptors","request","use","config","localStorageData","localStorage","getItem","JSON","parse","token","access_token","headers","Authorization","console","log","response","error","status","removeItem","window","location","Promise","reject","getPosts","defaults","get","createPost","data","post","editPost","put","deletePost","id","delete","getPostDetail","createComment","postId","getComments","login","register"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nconst BaseUrl = 'http://localhost:5005/api';\nconst AuthUrl = 'http://localhost:5000';\n\n\naxios.interceptors.request.use(function (config) {\n    let localStorageData = localStorage.getItem('data');\n    if (localStorageData) {\n        localStorageData = JSON.parse(localStorageData);\n        let token = 'Bearer ' + localStorageData.access_token;\n        config.headers.Authorization = token;\n    }\n    console.log(config);\n    return config;\n});\n\n\naxios.interceptors.response.use(function (response) {\n    return response;\n}, function (error) {\n    if (error.response.status === 401) {\n        localStorage.removeItem('data');\n        window.location = '/login';\n    } else {       \n        return Promise.reject(error.response);\n    }\n});\n\nexport const getPosts = () => {\n    console.log(\"getPosts api call.\");\n    console.log(axios.defaults);\n    return axios.get(`${BaseUrl}/posts`);\n}\n\nexport const createPost = (data) => {\n    console.log(\"createPost api call ->\", data);\n    return axios.post(`${BaseUrl}/posts`, data);\n}\n\nexport const editPost = (data) => {\n    console.log(\"editPost api call ->\", data);\n    return axios.put(`${BaseUrl}/posts`, data);\n}\n\nexport const deletePost = (id) => {\n    console.log(\"deletePost api call ->\", id);\n    return axios.delete(`${BaseUrl}/posts/${id}`, id);\n}\n\nexport const getPostDetail = (id) => {\n    console.log(\"getPostDetail api call ->\", id);\n    return axios.get(`${BaseUrl}/posts/${id}`);\n}\n\nexport const createComment = ({ postId, data }) => {\n    console.log(\"createComment api call ->\", postId, data);\n    return axios.post(`${BaseUrl}/comments?postId=${postId}`, data);\n}\n\nexport const getComments = (postId) => {\n    console.log(\"getComments api call ->\", postId);\n    return axios.get(`${BaseUrl}/comments?postId=${postId}`);\n}\n\n\nexport const login = (data) => {\n    console.log(\"login api call ->\", data);\n    return axios.post(`${AuthUrl}/api/token`, data);\n}\n\nexport const register = (data) => {\n    console.log(\"register api call ->\", data);\n    return axios.post(`${AuthUrl}/api/user/register`, data);\n}"]},"metadata":{},"sourceType":"module"}